var _window$popmotion=window.popmotion,easing=_window$popmotion.easing,physics=_window$popmotion.physics,spring=_window$popmotion.spring,tween=_window$popmotion.tween,styler=_window$popmotion.styler,listen=_window$popmotion.listen,value=_window$popmotion.value,transform=_window$popmotion.transform,pipe=transform.pipe,clampMax=transform.clampMax,ball=document.querySelector(".ball"),ball_text=document.querySelector(".ball h3"),ballStyler=styler(ball),ballY=value(0,function(o){return ballStyler.set("y",Math.min(0,o))}),ballScale=value(1,function(o){ballStyler.set("scaleX",1-o+1),ballStyler.set("scaleY",o)}),count=0,isFalling=!1,ballBorder=value({borderColor:"",borderWidth:0},function(o){var t=o.borderColor,e=o.borderWidth;return ballStyler.set({boxShadow:"0 0 0 "+e+"px "+t})}),checkBounce=function(){if(isFalling&&!(ballY.get()<0)){isFalling=!1;var o=ballY.getVelocity(),t=spring({to:1,from:1,velocity:.01*-o,stiffness:800}).pipe(function(e){return e>=1&&(e=1,t.stop(),o>20&&(isFalling=!0,gravity.set(0).setVelocity(.5*-o))),e}).start(ballScale)}},checkFail=function(){ballY.get()>=0&&0!==ballY.getVelocity()&&"&#9757;"!==ball.innerHTML&&(count=0,tween({from:{borderWidth:0,borderColor:"rgb(0, 255, 255, 1)"},to:{borderWidth:30,borderColor:"rgb(0, 255, 255, 0)"}}).start(ballBorder),ball_text.innerHTML="&#9757;")},gravity=physics({acceleration:2500,restSpeed:!1}).start(function(o){ballY.update(o),checkBounce(o),checkFail(o)});listen(ball,"mousedown touchstart").start(function(o){o.preventDefault(),count++,$.vue_app.$data.highscore=count>$.vue_app.$data.highscore?count:$.vue_app.$data.highscore,ball_text.innerHTML=count,isFalling=!0,ballScale.stop(),ballScale.update(1),gravity.set(Math.min(0,ballY.get())).setVelocity(-(300*count+800)),tween({from:{borderWidth:0,borderColor:"rgb(0, 255, 255, 1)"},to:{borderWidth:30,borderColor:"rgb(0, 255, 255, 0)"}}).start(ballBorder)});
