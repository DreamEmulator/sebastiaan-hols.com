(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){t.exports=n(19)},17:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),o=n(8),r=n.n(o),c=(n(17),n(10)),l=n(1),s=n(2),u=n(4),d=n(3),h=n(5),m=n(9),v=n.n(m),f=function(t){function e(){var t,n;Object(l.a)(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(a)))).color=function(t){return v()({seed:t,luminosity:"light"})},n.size=function(t){return"scale(".concat(t/2,")")},n.drawLissajous=function(t,e){var i=document.getElementById("drawingCanvas");if(!i||!i.getContext)return!1;var a=i.getContext("2d");a.clearRect(0,0,i.width,i.height),a.beginPath(),a.strokeStyle=n.color();var o={x:i.width/2,y:i.height/2};a.moveTo(o.x,o.y);for(var r=window.innerWidth>window.innerHeight?window.innerWidth/4:window.innerHeight/4,c=1,l=function(e){setTimeout(function(){var n=r*Math.sin(t*e),i=r*Math.sin((t+1)*e);a.lineTo(o.x+n,o.y-i),a.stroke()},10*c),c++},s=0;s<=2*Math.PI;s+=Math.PI/e/t)l(s)},n}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("canvas",{id:"drawingCanvas",width:window.innerWidth,height:window.innerHeight})}}]),e}(i.Component),w=n(6),p=n.n(w),b=function(t){function e(){return Object(l.a)(this,e),Object(u.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return!0===this.props.debug?a.a.createElement("div",{style:g.container},this.props.children,a.a.createElement("p",null,"To setup: Open Audio Midi Setup > Click Window > Show Midi Studio > Enable the IAC driver ")):null}}]),e}(i.Component),g={container:{position:"absolute",bottom:0,left:20,color:"#fff"}},E=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(u.a)(this,Object(d.a)(e).call(this,t))).state={ready:!1,inputs:null,outputs:null,midi:null,midiNote:null,note:null,octave:null},n.midiEvents=a.a.createRef(),n.DEBUG=!0,n}return Object(h.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this;p.a.enable(function(e){e?console.log("WebMidi could not be enabled.",e):(t.setState({ready:!0,inputs:p.a.inputs.length}),p.a.inputs[0]&&t.bindEvents()),console.log(p.a)},!0)}},{key:"bindEvents",value:function(){var t=this,e=p.a.inputs[0];e.addListener("noteon","all",function(e){t.setState({midi:e.data,midiNote:e.data[1],note:e.note.name,octave:e.note.octave,bonus:e.data[0]}),t.midiEvents.current.size(t.state.octave),t.midiEvents.current.color(t.state.midiNote),t.midiEvents.current.drawLissajous(Math.ceil(t.state.midiNote/t.state.octave)/2,Math.ceil(t.state.midiNote*t.state.octave)/20)}),e.addListener("pitchbend","all",function(t){console.log(t)}),e.addListener("noteoff","all",function(t){})}},{key:"render",value:function(){return a.a.createElement(i.Fragment,null,a.a.createElement(f,{ref:this.midiEvents}),a.a.createElement(b,{debug:this.DEBUG},a.a.createElement("h4",null,this.state.ready&&"Midi is ready with "+this.state.inputs+" inputs"),a.a.createElement("h5",null,"Note: "+this.state.note),a.a.createElement("h5",null,"Octave: "+this.state.octave),a.a.createElement("a",{href:"http://djipco.github.io/webmidi/latest/classes/WebMidi.html"},"Docs")))}}]),e}(i.Component);var y={width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},j=function(){return a.a.createElement("div",{style:Object(c.a)({},y),className:"App"},a.a.createElement(E,null,a.a.createElement(f,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.f1676f44.chunk.js.map